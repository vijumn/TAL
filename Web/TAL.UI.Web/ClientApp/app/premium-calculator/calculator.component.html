<h2>Premium Calculator</h2>

<div class="container">
    <form  (ngSubmit)="onSubmit(form)" #premiumForm="ngForm" >
        <div class="row form-group col-6">
                <label class="form-label" for="name">Name:</label>
                    <input [(ngModel)]="membermodel.name"  #name="ngModel" type="text"class="form-control" autocomplete="off" autofocus="autofocus" required id="name" name="name"  />
                    <div *ngIf="name.invalid && (name.dirty || name.touched)"    class="alert alert-danger">
                    <div *ngIf="name.errors.required">Name is required.</div>
            </div>
          </div>
            <div class=" row form-group col-6">
                <label class="form-label" for="age">Age:</label>
                    <input [(ngModel)]="membermodel.age" #age="ngModel" type="number" class="form-control"autocomplete="off" required pattern="[0-9]{1,3}" id="age" name="age" />
                    <div *ngIf="age.invalid && (age.dirty || age.touched)"    class="alert alert-danger">
                    <div *ngIf="age.errors.required">Age is required.</div>
                 </div>
             </div>
            <div class="row form-group col-6">
                <label class="form-label" for="dateofbirth">Date of Birth:</label>
                 <input [(ngModel)]="membermodel.dateOfBirth" #dateofbirth ="ngModel" type="date" class="form-control" autocomplete="off" required id="dateOfBirth" name="dateOfBirth" />
                 <div *ngIf="dateofbirth.invalid && (dateofbirth.dirty || dateofbirth.touched)"    class="alert alert-danger">
                   <div *ngIf="dateofbirth.errors.required">Date of Birth is required.</div>
            </div>
            </div>
            <div class="row form-group col-6">
                <label class="form-label" for="deathSumInsured">Deathâ€“Sum Insured:</label>
                    <input [(ngModel)]="membermodel.deathSumInsured" #deathsuminsured="ngModel" type="number" step="1000" min="1"  class="form-control" autocomplete="off" required id="deathSumInsured" name="deathSumInsured" />
                    <div *ngIf="deathsuminsured.invalid && (deathsuminsured.dirty || deathsuminsured.touched)"    class="alert alert-danger">
                    <div *ngIf="deathsuminsured.errors.required">Death-Sum Insured is required.</div>
            </div>
           </div>
            <div class="row form-group col-6">
                <label class="form-label" for="occupation">Occupation:</label>
                   <select  class="form-control" name="occupationId" [ngModel]="membermodel.occupationId" (ngModelChange)="submit($event)"  > 
                        <option *ngFor="let occupation of membermodel.occupationList" [value]="occupation.occupationId">{{occupation.name}}</option> 
                    </select> 
                
            </div>
    </form>
</div>
<div class="container">
<div *ngIf="membermodel.premium > 0">
    <h3>Calculated Premium</h3>
    <div class="row form-group col-6">
        {{membermodel.premium |currency:'AUD':'symbol'}}
    </div>
    
</div>
</div>
